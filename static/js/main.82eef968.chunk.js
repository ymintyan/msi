(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{52:function(e,a,t){e.exports=t(66)},57:function(e,a,t){},58:function(e,a,t){},59:function(e,a,t){},60:function(e,a,t){},64:function(e,a,t){},65:function(e,a,t){},66:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),o=t(9),c=t.n(o),s=(t(57),t(12));t(58);var l=t(45),i="https://api.chucknorris.io/jokes";function u(){var e=localStorage.getItem("favourite_jokes");return e?JSON.parse(e):[]}function m(e){if(u().length){var a=Object(l.a)(e);localStorage.setItem("favourite_jokes",JSON.stringify(a))}else localStorage.setItem("favourite_jokes",JSON.stringify(e))}t(59);var d=function(e){var a=e.data,t=e.setFavJokes,r=e.isCustomStyle,o=e.isSearchedJokeInFav,c=a.updated_at,s=a.value,l=a.url,i=a.id,d=a.categories;if(0===a.length)return null;var v=function(e){var a=new Date(e),t=Date.parse(a),r=Date.now()-t;return Math.round(r/36e5)}(c);return console.log(i,a),n.a.createElement("div",{className:r?"joke-wrapper-fav":"joke-wrapper"},n.a.createElement("div",{className:"joke-link"},"ID: ",n.a.createElement("a",{href:"".concat(l),target:"_blank"},i)),n.a.createElement("div",{className:r||o?"joke-favourite-selected":"joke-favourite",onClick:function(e){var n=u(),o=!1;if(n.forEach((function(e){e.id===i&&(o=!0)})),console.log({isCustomStyle:r,isRepeated:o}),o){var c,s=u();s.forEach((function(e,a){e.id===i&&(c=a)})),s.splice(c,1),console.log("splice",s),m(s),t(s)}else{var l=u();l.push(a),m(l);var d=u();t(d)}}}),n.a.createElement("div",{className:"joke-value"},s),n.a.createElement("div",{className:"joke-footer"},n.a.createElement("div",{className:"joke-updatedAt"},"Last update: ".concat(v," hours ago")),n.a.createElement("div",{className:"joke-categories"},d.length?d.map((function(e){return n.a.createElement("div",{className:"category-item",key:e},e)})):null)))};t(60);var v=function(e){var a=e.jokes,t=e.errorMsg,r=e.setFavJokes,o=e.favJokes;console.log("list",{jokes:a});var c=function(e){console.warn("SINGLE",e);for(var a=0;a<o.length;a++)if(console.warn("SINGLE",e.id,o[a].id),e.id===o[a].id)return!0;return!1};return t?n.a.createElement("div",{className:"error-message"},t):a.result?a.total?n.a.createElement("div",{className:"jokes-list"},a.result.map((function(e){return n.a.createElement(d,{data:e,key:e.id,isSearchedJokeInFav:c(e),setFavJokes:r})}))):n.a.createElement("div",{className:"error-message"},"No results"):n.a.createElement("div",{className:"jokes-list"},n.a.createElement(d,{data:a,isSearchedJokeInFav:c(a),setFavJokes:r}))},g=t(38),f=t(108),h=t(109),p=t(107),E=t(106),k=t(4),j=t(105);var b=Object(k.a)((function(e){return{textField:{border:"2px solid #333333",padding:"10px 15px",borderRadius:10,marginTop:20}}}))((function(e){var a=e.isVisible,t=e.handleInput,r=e.classes;return a?n.a.createElement("div",{className:"search-wrapper"},n.a.createElement(j.a,{id:"search-input",size:"small",fullWidth:!0,placeholder:"Free text search...",onChange:t,className:r.textField,InputProps:{disableUnderline:!0}})):null})),y=t(103),N=t(104),O=Object(y.a)({root:{padding:"10px 40px",fontSize:"16px",fontWeight:"bold",color:"#fff",background:"linear-gradient(92.01deg, #8EA7FF 0%, #7291FF 100%)",borderRadius:10,textTransform:"none","&:hover":{background:"linear-gradient(92.01deg, #8EA7ff 0%, #496ff3 100%)"}}});var S=function(e){var a=e.handleClick,t=O();return n.a.createElement("div",{className:"btn-wrapper"},n.a.createElement(N.a,{onClick:a,classes:{root:t.root}},"Get a joke"))},C=t(44),w=t.n(C);var F=function(e){var a=e.data,t=e.selectHandler,o=e.selected,c=Object(r.useState)({selected:o}),l=Object(s.a)(c,2),i=l[0],u=l[1],m=w()("single-category",{selected:i.selected});return n.a.createElement("div",{className:m,onClick:function(e){e.stopPropagation(),console.log(i),u({selected:!i.selected}),t(a)}},a)};t(64);var J=function(e){var a=e.categories,t=e.selectedCategories,r=e.isVisible,o=e.handleCategorySelecting;return r?n.a.createElement("div",{className:"categories-list show"},a.map((function(e){var a=Object.keys(t).includes(e);return n.a.createElement(F,{selected:a,selectHandler:o,data:e,key:e})}))):null};t(65);var I=function(e){var a=e.setApiJokes,t=e.jokeCategories,o=e.setErrorMsg,c=Object(r.useState)("random"),l=Object(s.a)(c,2),u=l[0],m=l[1],d=Object(r.useState)({}),v=Object(s.a)(d,2),k=v[0],j=v[1],y=Object(r.useState)(""),N=Object(s.a)(y,2),O=N[0],C=N[1],w=Object(r.useState)({category:!1,search:!1}),F=Object(s.a)(w,2),I=F[0],x=F[1];return console.log("init joke select"),console.log("pp",{props:e}),n.a.createElement("div",null,n.a.createElement(f.a,{component:"fieldset",fullWidth:!0},n.a.createElement(p.a,{name:"jokeType",value:u,onChange:function(e){console.log(e.target),m(e.target.value),"random"===e.target.value&&x({category:!1,search:!1}),"category"===e.target.value&&x({search:!1,category:!0}),"search"===e.target.value&&x({category:!1,search:!0})}},n.a.createElement(h.a,{value:"random",control:n.a.createElement(E.a,{className:"custom-color"}),label:"Random"}),n.a.createElement(h.a,{value:"category",control:n.a.createElement(E.a,{className:"custom-color"}),label:"From categories"}),n.a.createElement(J,{handleCategorySelecting:function(e){var a=Object(g.a)({},k);if(console.log("st",{category:e,categories:k,selectedCategories:a},a.hasOwnProperty(e)),k.hasOwnProperty(e))return delete a[e],j(Object(g.a)({},a)),void console.log("if",{category:e,categories:k,selectedCategories:a});a[e]=!0,j(Object(g.a)({},a)),console.log("e",{category:e,categories:k,selectedCategories:a})},isVisible:I.category,selectedCategories:k,categories:t}),n.a.createElement(h.a,{value:"search",control:n.a.createElement(E.a,{className:"custom-color"}),label:"Search"}),n.a.createElement(b,{handleInput:function(e){C(e.target.value)},isVisible:I.search}))),n.a.createElement(S,{handleClick:function(e){console.log("CLICK",k);var t=function(e,a){var t=a.searchText,r=a.selectedCategories;console.log({selectedCategories:r});var n="";switch(e){case"random":n="/random";break;case"category":var o=Object.keys(r).join(",");n="/random?category=".concat(o);break;case"search":n="/search?query=".concat(t)}return fetch("".concat(i).concat(n))}(u,{searchText:O,selectedCategories:k}).then((function(e){return e.json()})).then((function(e){return e.error?o(e.message):(a(e),o("")),e}));console.log(t)}}))};var x=function(e){var a=e.jokes,t=e.setFavJokes,r=function(e){document.getElementById("favourite-inner").classList.toggle("show")};return console.log({ls:a}),n.a.createElement("div",null,n.a.createElement("div",{className:"favourite-secondary-title"},"Favourite"),n.a.createElement("div",{className:"favourite-menu-btn",onClick:r}),n.a.createElement("div",{id:"favourite-inner",className:"favourite-inner"},n.a.createElement("div",{className:"favourite-inner-wrapper"},n.a.createElement("div",{className:"favourite-menu-btn",onClick:r}),n.a.createElement("div",{className:"favourite-secondary-title"},"Favourite"),n.a.createElement("h3",{className:"favourite-title"},"Favourite"),a.length?n.a.createElement("div",null,a.map((function(e){return console.log("jj",e),n.a.createElement(d,{data:e,setFavJokes:t,isCustomStyle:!0,key:e.id})}))):null)))};var M=function(){var e=Object(r.useState)([]),a=Object(s.a)(e,2),t=a[0],o=a[1],c=Object(r.useState)([]),l=Object(s.a)(c,2),m=l[0],d=l[1],g=Object(r.useState)(""),f=Object(s.a)(g,2),h=f[0],p=f[1],E=u(),k=Object(r.useState)(E),j=Object(s.a)(k,2),b=j[0],y=j[1];return Object(r.useEffect)((function(){fetch("".concat(i,"/categories")).then((function(e){return e.json()})).then((function(e){m.length||d(e)}))}),[]),n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"main-wrapper"},n.a.createElement("h2",{className:"main-title"},"MSI 2020"),n.a.createElement("p",{className:"greeting-title"},"Hey!"),n.a.createElement("p",{className:"greeting-text"},"Let\u2019s try to find a joke for you:"),n.a.createElement(I,{setApiJokes:o,setErrorMsg:p,jokeCategories:m}),n.a.createElement(v,{jokes:t,favJokes:b,setFavJokes:y,errorMsg:h})),n.a.createElement("div",{className:"favourites-wrapper"},n.a.createElement(x,{jokes:b,setFavJokes:y})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[52,1,2]]]);
//# sourceMappingURL=main.82eef968.chunk.js.map